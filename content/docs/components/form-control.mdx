---
title: Form Control
description: A versatile form field wrapper component that handles labels, validation messages, and layout.
component: true
---

<ComponentPreview name="form-control-demo" />

## Installation

<Steps>
  ### Add the component

  <Tabs defaultValue="cli">
  <TabsList>
    <TabsTrigger value="cli">CLI</TabsTrigger>
    <TabsTrigger value="manual">Manual</TabsTrigger>
  </TabsList>
  <TabsContent value="cli">

  ```bash
  npx shadcn-ui@latest add form-control
  ```

  </TabsContent>
  <TabsContent value="manual">

  <Callout>
    This component depends on the `label` and `validation` components.
  </Callout>

  Add the following file to your project:

  ```tsx
  "use client";
  import React, { ReactNode } from "react";

  import { Label } from "./label";
  import { cn } from "@/lib/utils";

  import { Validation } from "@/registry/default/ui/validation";

  export type FormControlProps = {
    name: string;
    label?: ReactNode;
    labelRight?: ReactNode;
    error?: ReactNode;
    success?: ReactNode;
    warning?: ReactNode;
    loading?: ReactNode;
    caption?: ReactNode;
    controlLeft?: ReactNode;
    children: ReactNode;
    className?: string;
    validationPosition?: "left" | "right";
    validationClassName?: string;
    captionClassName?: string;
    labelClassName?: string;
  };

  export const FormControl = ({
    label,
    labelRight,
    controlLeft,
    name,
    caption,
    error,
    loading,
    success,
    warning,
    children,
    className,
    validationPosition = "left",
    validationClassName,
    captionClassName,
    labelClassName,
  }: FormControlProps) => {
    return (
      <div className={cn("mb-4 flex flex-col", className)}>
        {(label || labelRight) && (
          <div className="mb-2 flex justify-between items-center gap-1">
            <div>
              {label && (
                <Label
                  htmlFor={name}
                  className={cn("cursor-pointer", labelClassName)}
                >
                  {label}
                </Label>
              )}
            </div>

            <div>{labelRight}</div>
          </div>
        )}

        {children}

        {caption && (
          <span
            className={cn("mt-1 text-sm text-muted-foreground", captionClassName)}
          >
            {caption}
          </span>
        )}

        {controlLeft && <div className="mt-1">{controlLeft}</div>}

        <div
          className={cn("flex flex-row", {
            "justify-end": validationPosition === "right",
            "justify-start": validationPosition === "left",
          })}
        >
          {success && (
            <Validation variant="success" className={validationClassName}>
              {success}
            </Validation>
          )}
          {warning && (
            <Validation variant="warning" className={validationClassName}>
              {warning}
            </Validation>
          )}
          {error && (
            <Validation variant="error" className={validationClassName}>
              {error}
            </Validation>
          )}
          {loading && (
            <Validation variant="loading" className={validationClassName}>
              {loading}
            </Validation>
          )}
        </div>
      </div>
    );
  };
  ```

  </TabsContent>
  </Tabs>

  ### Update the imports

  Update your import paths to match your project setup.

</Steps>

## Usage

```tsx
import { FormControl } from "@/components/ui/form-control";
import { Input } from "@/components/ui/input";

export function FormControlExample() {
  return (
    <FormControl 
      name="email"
      label="Email"
      caption="We'll never share your email with anyone else."
    >
      <Input 
        id="email"
        placeholder="Enter your email"
        type="email"
      />
    </FormControl>
  );
}
```

## Props

### FormControl

| Prop | Type | Description |
|------|------|-------------|
| `name` | `string` | Unique identifier for the form control. |
| `label` | `ReactNode` | The label text for the form control. |
| `labelRight` | `ReactNode` | Optional content to display at the right side of the label. |
| `error` | `ReactNode` | Error message to display below the form control. |
| `success` | `ReactNode` | Success message to display below the form control. |
| `warning` | `ReactNode` | Warning message to display below the form control. |
| `loading` | `ReactNode` | Loading message to display below the form control. |
| `caption` | `ReactNode` | Helper text to display below the form control. |
| `controlLeft` | `ReactNode` | Optional content to display on the left side below the form control. |
| `children` | `ReactNode` | The form input component(s) to wrap. |
| `className` | `string` | Additional classes to apply to the form control container. |
| `validationPosition` | `"left" \| "right"` | Position of validation messages. Defaults to `"left"`. |
| `validationClassName` | `string` | Additional classes to apply to validation messages. |
| `captionClassName` | `string` | Additional classes to apply to the caption. |
| `labelClassName` | `string` | Additional classes to apply to the label. |

## Examples

### With Error Message

```tsx
<FormControl 
  name="username"
  label="Username"
  error="Username is already taken"
>
  <Input 
    id="username"
    placeholder="Enter a username"
  />
</FormControl>
```

### With Success Message

```tsx
<FormControl 
  name="password"
  label="Password"
  success="Password strength: Strong"
>
  <Input 
    id="password"
    placeholder="Enter a password"
    type="password"
  />
</FormControl>
```

### With Warning Message

```tsx
<FormControl 
  name="password"
  label="Password"
  warning="Password is weak"
>
  <Input 
    id="password"
    placeholder="Enter a password"
    type="password"
  />
</FormControl>
```

### With Loading State

```tsx
<FormControl 
  name="username"
  label="Username"
  loading="Checking availability..."
>
  <Input 
    id="username"
    placeholder="Enter a username"
  />
</FormControl>
```

### With Right Aligned Validation

```tsx
<FormControl 
  name="email"
  label="Email"
  error="Please enter a valid email address"
  validationPosition="right"
>
  <Input 
    id="email"
    placeholder="Enter your email"
    type="email"
  />
</FormControl>
```