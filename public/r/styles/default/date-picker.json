{
  "$schema": "https://ui.blode.co/schema/registry-item.json",
  "name": "date-picker",
  "author": "fingertip (https://ui.blode.co)",
  "dependencies": ["react-day-picker", "date-fns", "blode-icons-react"],
  "registryDependencies": ["button", "calendar", "popover"],
  "files": [
    {
      "path": "ui/date-picker.tsx",
      "content": "\"use client\";\n\nimport { Calendar1Icon, CircleXFilledIcon } from \"blode-icons-react\";\nimport { format } from \"date-fns\";\nimport * as React from \"react\";\nimport { useCallback } from \"react\";\nimport { type OnSelectHandler } from \"react-day-picker\";\n\nimport { Button } from \"./button\";\nimport { Calendar, CalendarProps } from \"./calendar\";\nimport { Popover, PopoverContent, PopoverTrigger } from \"./popover\";\nimport { cn } from \"@/lib/utils\";\n\ntype Props = CalendarProps & {\n  date?: Date;\n  setDate: (value: Date | undefined) => void;\n  isClearable?: boolean;\n  disabled?: boolean;\n  children?: React.ReactNode;\n};\n\nexport const DatePicker = ({\n  date,\n  setDate,\n  isClearable,\n  disabled,\n  children,\n  ...props\n}: Props) => {\n  const [open, setOpen] = React.useState(false);\n\n  const onDateSelect = useCallback<OnSelectHandler<Date | undefined>>(\n    (date) => {\n      setDate(date);\n      setOpen(false);\n    },\n    [setDate],\n  );\n\n  return (\n    <Popover\n      open={open}\n      onOpenChange={(value) => {\n        if (value && !disabled) {\n          setOpen(value);\n        }\n      }}\n    >\n      {children ? (\n        <PopoverTrigger asChild>{children}</PopoverTrigger>\n      ) : (\n        <PopoverTrigger asChild>\n          <div className=\"relative flex items-center\">\n            <Button\n              type=\"button\"\n              variant=\"input\"\n              disabled={disabled}\n              className={cn(\n                \"w-full justify-start text-left font-normal\",\n                !date && \"text-muted-foreground\",\n              )}\n            >\n              <Calendar1Icon className=\"mr-2 size-4\" />\n              {date ? format(date, \"PPP\") : <span>Pick a date</span>}\n            </Button>\n\n            {!!date && isClearable && (\n              <Button\n                type=\"button\"\n                variant=\"ghost\"\n                onClick={() => setDate(undefined)}\n                className=\"absolute right-0 top-0 flex flex-row gap-1 pr-3\"\n              >\n                <CircleXFilledIcon className=\"size-5 text-muted-foreground/50\" />\n              </Button>\n            )}\n          </div>\n        </PopoverTrigger>\n      )}\n\n      <PopoverContent className=\"w-auto p-0\" align=\"start\">\n        <Calendar\n          {...props}\n          mode=\"single\"\n          selected={date}\n          onSelect={onDateSelect}\n        />\n      </PopoverContent>\n    </Popover>\n  );\n};\n",
      "type": "registry:ui",
      "target": ""
    }
  ],
  "type": "registry:ui"
}
