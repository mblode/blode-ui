{
  "$schema": "https://ui.fingertip.com/schema/registry-item.json",
  "name": "search",
  "author": "fingertip (https://ui.fingertip.com)",
  "dependencies": [
    "@fingertip/icons"
  ],
  "registryDependencies": [
    "form-control",
    "input"
  ],
  "files": [
    {
      "path": "ui/search.tsx",
      "content": "\"use client\";\nimport { MagnifyingGlassIcon } from \"@fingertip/icons\";\nimport { ReactNode, useEffect, useState } from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nimport { FormControl } from \"./form-control\";\nimport { Input, InputProps } from \"./input\";\n\ninterface Props extends InputProps {\n  label?: ReactNode;\n  caption?: ReactNode;\n  value: string;\n  onSearch: (value: string) => void;\n  fullWidth?: boolean;\n  className?: string;\n  inputClassName?: string;\n  clearClassName?: string;\n  searchClassName?: string;\n  placeholderSuggestions?: string[];\n  typingSpeed?: number;\n  deletingSpeed?: number;\n}\n\nexport const Search = ({\n  label,\n  placeholder = \"Search...\",\n  placeholderSuggestions = [],\n  value,\n  onSearch,\n  fullWidth,\n  className,\n  inputClassName,\n  clearClassName,\n  searchClassName,\n  typingSpeed = 150,\n  deletingSpeed = 100,\n  ...props\n}: Props) => {\n  const [animatedPlaceholder, setAnimatedPlaceholder] = useState(\"\");\n  const [arrayIndex, setArrayIndex] = useState(0);\n  const [isDeleting, setIsDeleting] = useState(false);\n  const [charIndex, setCharIndex] = useState(0);\n\n  useEffect(() => {\n    if (!placeholderSuggestions.length) {\n      return;\n    }\n\n    const currentString = placeholderSuggestions[arrayIndex];\n    let timeoutId: any;\n\n    if (isDeleting) {\n      // Deleting characters\n      timeoutId = setTimeout(() => {\n        setAnimatedPlaceholder((current) =>\n          current.substring(0, charIndex - 1),\n        );\n        setCharIndex((current) => Math.max(0, current - 1));\n        if (charIndex <= 1) {\n          setIsDeleting(false);\n          setArrayIndex(\n            (prevIndex) => (prevIndex + 1) % placeholderSuggestions.length,\n          );\n          setCharIndex(0); // Reset for the next string\n        }\n      }, deletingSpeed);\n    } else {\n      // Adding characters\n      if (charIndex < currentString.length) {\n        timeoutId = setTimeout(() => {\n          setAnimatedPlaceholder(\n            (current) => current + currentString[charIndex],\n          );\n          setCharIndex((current) => current + 1);\n        }, typingSpeed);\n      }\n      if (charIndex === currentString.length) {\n        // Wait a bit at the end of the string before starting to delete\n        timeoutId = setTimeout(() => setIsDeleting(true), 1000);\n      }\n    }\n\n    return () => clearTimeout(timeoutId);\n  }, [\n    charIndex,\n    isDeleting,\n    arrayIndex,\n    placeholderSuggestions,\n    typingSpeed,\n    deletingSpeed,\n  ]);\n\n  return (\n    <FormControl\n      label={label}\n      name=\"search\"\n      className={cn(className, { \"w-full\": fullWidth })}\n    >\n      <div className=\"relative\">\n        <span\n          className={cn(\n            \"pointer-events-none absolute inset-y-0 left-0 z-10 flex items-center pl-3 text-muted-foreground\",\n            searchClassName,\n          )}\n        >\n          <MagnifyingGlassIcon className=\"size-5\" />\n        </span>\n\n        <Input\n          id=\"search\"\n          placeholder={\n            placeholderSuggestions.length > 0\n              ? animatedPlaceholder\n              : placeholder\n          }\n          value={value}\n          onChange={(e) => onSearch(e.target.value)}\n          onClear={() => onSearch(\"\")}\n          type=\"text\"\n          className={cn(\"pl-9\", inputClassName)}\n          clearClassName={clearClassName}\n          clearable\n          {...props}\n        />\n      </div>\n    </FormControl>\n  );\n};\n",
      "type": "registry:ui",
      "target": ""
    }
  ],
  "type": "registry:ui"
}